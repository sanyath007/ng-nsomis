<section
	class="content"
	ng-controller="ipController"
	ng-init="getPtLosByCare($event);"
>
	<div class="container-fluid">
		<!-- Main row -->
		<div class="row">
			<section class="col-lg-12 connectedSortable">

				<div class="card">
					<div class="card-header">
						<h3 class="card-title">
							<i class="fas fa-bed mr-1"></i>
							รายชื่อผู้ป่วยที่ได้รับการดูแลโดยวอร์ด (นับทุกรายที่วอร์ดได้ดูแล)
						</h3>
					</div><!-- /.card-header -->
					<div class="card-body">
						<h4 class="card-title">วอร์ด {{ ward.ward+ '-' +ward.name }}</h4>
					</div>		
				</div>

				<div class="card">
					<div class="card-body">

						<div class="table-responsive">
							<table class="table table-bordered table-striped">
								<thead>
									<tr>
										<th style="width: 3%; text-align: center;">ลำดับ</th>
										<th style="width: 6%; text-align: center;">AN</th>
										<th style="width: 6%; text-align: center;">HN</th>
										<th style="text-align: center;">ชื่อ-สกุล</th>
										<th style="width: 20%; text-align: center;">สิทธิการรักษา</th>
										<th style="width: 8%; text-align: center;">วันที่ Admit</th>
										<th style="width: 6%; text-align: center;">เวลา Admit</th>
										<th style="width: 8%; text-align: center;">วันที่ D/C</th>
										<th style="width: 6%; text-align: center;">เวลา D/C</th>
										<th style="width: 6%; text-align: center;">วันนอน</th>
										<th style="width: 10%; text-align: center;">D/C วอร์ด</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="(index, row) in data">	
										<td style="text-align: center;">{{ index+1 }}</td>
										<td style="text-align: center;">{{ row.an }}</td>
										<td style="text-align: center;">{{ row.hn }}</td>
										<td>{{ row.patname }}</td>
										<td>{{ row.pttype }}</td>
										<td style="text-align: center;">{{ row.regdate | thdate }}</td>
										<td style="text-align: center;">{{ row.regtime }}</td>
										<td style="text-align: center;">{{ row.dchdate | thdate }}</td>
										<td style="text-align: center;">{{ row.dchtime }}</td>
										<td style="text-align: center;">
											{{ (row.admdate > 0) ? row.admdate : row.admit_hour + 'Hr.' }}
										</td>
										<td>{{ row.wardname }}</td>
									</tr>
									<tr>
										<td style="text-align: center;" colspan="9">รวมวันนอน</td>
										<td style="text-align: center;">{{ totalAdmdate }}</td>
										<td></td>
									</tr>
								</tbody>
							</table>
						</div><!-- /.table-responsive -->

					</div><!-- /.card-body -->
					<div class="card-footer clearfix">
						<div class="m-0 float-left" ng-show="data">
							<a href="#" class="btn btn-success">Excel</a>
						</div>
						<ul class="pagination pagination-sm m-0 float-right" ng-show="false">
							<li class="page-item"><a class="page-link" href="#">&laquo;</a></li>
							<li class="page-item"><a class="page-link" href="#">1</a></li>
							<li class="page-item"><a class="page-link" href="#">2</a></li>
							<li class="page-item"><a class="page-link" href="#">3</a></li>
							<li class="page-item"><a class="page-link" href="#">&raquo;</a></li>
						</ul>
					</div><!-- /.card-footer -->
				</div><!-- /.card -->
	
			</section>
		</div><!-- Main row -->
	</div><!-- /.container-fluid-->
</section><!-- /.content -->
