<section
	class="content"
	ng-controller="nurseController"
	ng-init="getCardStat($event); getNumByDepart($event);"
>
	<div class="container-fluid">
		<!-- Main row -->
		<div class="row">
			<section class="col-lg-12 connectedSortable">

				<div class="card">
					<div class="card-header">
						<h3 class="card-title">
							<i class="fas fa-user-md mr-1"></i>
							ทรัพยากรทั้งหมด
						</h3>
					</div><!-- /.card-header -->
					<!-- <div class="card-body"></div>/.card-body -->
				</div><!-- /.card -->

				<div class="card">
					<div class="card-body">

						<div class="row">
							<div class="col-md-12">

								<!-- /** Small box */ -->
								<div class="row">
									<div class="col-md-6" ng-repeat="(index, card) in cardStat1">
										<card-data data="{{ card }}"></card-data>
									</div><!-- ./col -->
								</div><!-- /.row -->

								<div class="row">
									<div class="col-lg-3 col-6" ng-repeat="(index, card) in cardStat2">
										<card-data data="{{ card }}"></card-data>
									</div><!-- ./col -->
								</div><!-- /.row -->

								<!-- <div class="row">
									<div class="col-md-6">

										<div id="generationPieContainer" style="width: 100%; height: 400px; margin: 20px auto;"></div>
		
									</div>
									
									<div class="col-md-6">

										<div id="levelPieContainer" style="width: 100%; height: 400px; margin: 20px auto;"></div>
		
									</div>
								</div> -->

							</div>
						</div>

						<div class="row">
							<div class="col-md-12">
								<h4>จำนวนบุคลากรรายกลุ่มงาน</h4>

								<table class="table table-bordered table-striped">
									<thead>
										<tr>
											<th style="width: 5%; text-align: center;">ลำดับ</th>
											<th style="text-align: center;">กลุ่มงาน</th>
											<th style="width: 10%; text-align: center;">พยาบาล</th>
											<th style="width: 10%; text-align: center;">สนับสนุน</th>
											<th style="width: 10%; text-align: center;">รวม</th>
										</tr>
									</thead>
									<tbody>
										<tr ng-repeat="(index, dep) in data">
											<td style="text-align: center;">{{ index + 1 }}</td>
											<td>{{ dep.depart_name }}</td>
											<td style="text-align: center;">{{ dep.nurses }}</td>
											<td style="text-align: center;">{{ dep.supports }}</td>
											<td style="text-align: center;">{{ dep.total }}</td>
										</tr>
										<tr>
											<td style="text-align: center;" colspan="2">รวม</td>
											<td style="text-align: center;">{{ totalData.nurses }}</td>
											<td style="text-align: center;">{{ totalData.supports }}</td>
											<td style="text-align: center;">{{ totalData.total }}</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>

					</div><!-- /.card-body -->
				</div><!-- /.card -->

			</section>
		</div><!-- Main row -->
	</div><!-- /.container-fluid-->
</section><!-- /.content -->

<script type="text/javascript">
	$(function() {
		$('#cboDate').datepicker({
			autoclose: true,
			language: 'th',
			format: 'dd/mm/yyyy',
			thaiyear: true
		}).datepicker('update', new Date());
	});
</script>