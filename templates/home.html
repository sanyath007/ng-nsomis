<section
	class="content"
	ng-controller="homeController"
	ng-init="getOpVisit($event);
			getOpVisitType($event);
			getIpVisit($event);
			getIpClass($event);
			getReferIn($event);
			getReferOut($event);
			getErVisit($event);
			getErEmergency($event);
			getOrVisit($event);
			getOrType($event);"
>
	<div class="container-fluid">		
		<div class="row">
			<div class="col-md-12" style="margin: 20px 0;">
				
				<form action="#" method="POST" class="form-inline">
					<div class="form-group">
						<label>ปีงบประมาณ :</label>
						<input
							type="text"
							id="cboYear"
							name="cboYear"
							ng-model="cboYear"
							class="form-control"
							style="margin: 0 10px;"
							autocomplete="off"
						>
					</div>

					<button class="btn btn-primary" ng-click="getOpVisit($event);
															getOpVisitType($event);
															getIpVisit($event);
															getIpClass($event);
															getReferIn($event);
															getReferOut($event);
															getErVisit($event);
															getErEmergency($event);
															getOrVisit($event);
															getOrType($event);"
					>ตกลง</button>
				</form>

			</div><!-- /.col -->
		</div><!-- /.row -->

		<!-- Small boxes (Stat box) -->
		<div class="row">
			<div class="col-lg-3 col-6">
				<!-- small box -->
				<div class="small-box bg-info">
				<div class="inner">
					<h3>150</h3>

					<p>New Orders</p>
				</div>
				<div class="icon">
					<i class="ion ion-bag"></i>
				</div>
				<a href="#" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
				</div>
			</div>
			<!-- ./col -->
			<div class="col-lg-3 col-6">
				<!-- small box -->
				<div class="small-box bg-success">
				<div class="inner">
					<h3>53<sup style="font-size: 20px">%</sup></h3>

					<p>Bounce Rate</p>
				</div>
				<div class="icon">
					<i class="ion ion-stats-bars"></i>
				</div>
				<a href="#" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
				</div>
			</div>
			<!-- ./col -->
			<div class="col-lg-3 col-6">
				<!-- small box -->
				<div class="small-box bg-warning">
				<div class="inner">
					<h3>44</h3>

					<p>User Registrations</p>
				</div>
				<div class="icon">
					<i class="ion ion-person-add"></i>
				</div>
				<a href="#" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
				</div>
			</div>
			<!-- ./col -->
			<div class="col-lg-3 col-6">
				<!-- small box -->
				<div class="small-box bg-danger">
				<div class="inner">
					<h3>65</h3>

					<p>Unique Visitors</p>
				</div>
				<div class="icon">
					<i class="ion ion-pie-graph"></i>
				</div>
				<a href="#" class="small-box-footer">More info <i class="fas fa-arrow-circle-right"></i></a>
				</div>
			</div><!-- ./col -->
		</div><!-- /.row -->

		<!-- Main row -->
		<div class="row">
			<section class="col-lg-12 connectedSortable">

				<div class="card">
					<div class="card-header">
						<h3 class="card-title">
							<i class="fas fa-users mr-1"></i>
							ยอดผู้ป่วยนอก
						</h3>
					</div><!-- /.card-header -->
					<div class="card-body">
						<div class="row">
							<div class="col-md-6">

								<div id="opVisitBarContainer" style="width: 100%; height: 400px; margin: 20px auto;"></div>

							</div>

							<div class="col-md-6">

								<div id="opVisitTypePieContainer" style="width: 100%; height: 400px; margin: 20px auto;"></div>

							</div>
						</div>

					</div>
				</div>

				<div class="card">
					<div class="card-header">
						<h3 class="card-title">
							<i class="fas fa-bed mr-1"></i>
							ยอดผู้ป่วยใน
						</h3>
					</div><!-- /.card-header -->
					<div class="card-body">
						<div class="row">
							<div class="col-md-6">

								<div id="ipClassificationPieContainer" style="width: 100%; height: 400px; margin: 20px auto;"></div>

							</div>
							
							<div class="col-md-6">

								<div id="ipVisitBarContainer" style="width: 100%; height: 400px; margin: 20px auto;"></div>

							</div>
						</div>

					</div>
				</div>


				<div class="card">
					<div class="card-header">
						<h3 class="card-title">
							<i class="fas fa-ambulance mr-1"></i>
							Refer In/Out
						</h3>
					</div><!-- /.card-header -->
					<div class="card-body">
						<div class="row">
							<div class="col-md-6">

								<div id="referInBarContainer" style="width: 100%; height: 400px; margin: 20px auto;"></div>

							</div>

							<div class="col-md-6">

								<div id="referOutBarContainer" style="width: 100%; height: 400px; margin: 20px auto;"></div>

							</div>
						</div>
					</div>
				</div>
		
				<div class="card">
					<div class="card-header">
						<h3 class="card-title">
							<i class="fas fa-wheelchair mr-1"></i>
							ห้องอุบัติเหตุและฉุกเฉิน (ER)
						</h3>
					</div><!-- /.card-header -->
					<div class="card-body">
						<div class="row">
							<div class="col-md-6">

								<div id="erVisitBarContainer" style="width: 100%; height: 400px; margin: 20px auto;"></div>

							</div>

							<div class="col-md-6">

								<div id="erEmergencyPieContainer" style="width: 100%; height: 400px; margin: 20px auto;"></div>

							</div>
						</div>

					</div>
				</div>

				<div class="card">
					<div class="card-header">
						<h3 class="card-title">
							<i class="fas fa-user-nurse mr-1"></i>
							ห้องผ่าตัด (OR)
						</h3>
					</div><!-- /.card-header -->
					<div class="card-body">
						<div class="row">
							<div class="col-md-6">

								<div id="orTypePieContainer" style="width: 100%; height: 400px; margin: 20px auto;"></div>

							</div>

							<div class="col-md-6">

								<div id="orVisitBarContainer" style="width: 100%; height: 400px; margin: 20px auto;"></div>

							</div>
						</div>
					</div>
				</div>
		
			</section>
		</div><!-- Main row -->
	</div><!-- /.container-fluid-->
</section>

<script type="text/javascript">
	$(function() {
		$('#cboYear').datepicker({
			autoclose: true,
			format: 'yyyy',
			viewMode: "years", 
			minViewMode: "years",
			language: 'th',
			thaiyear: true
		}).datepicker('update', new Date());
	});
</script>